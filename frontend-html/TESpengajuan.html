<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pinjam BT/SU</title>
  <link href="./output.css" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" />
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body class="font-sans bg-gray-100 text-sm">
  <div class="flex min-h-screen">

    <!-- Sidebar -->
    <div id="sidebar"></div>

    <!-- Main Content -->
    <main class="flex-1 p-6 ml-60 overflow-auto">
      <!-- Header -->
        <!-- biarin kosong dl -->

      <!-- Modal Alert Logout -->
      <div id="alertLogout" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md">
          <h2 class="text-lg font-semibold mb-2">Apakah Anda yakin ingin logout?</h2>
          <p class="text-gray-500 mb-6">
            Setelah logout, Anda perlu login kembali untuk mengakses akun Anda.        </p>
          <div class="flex justify-end gap-3">
            <button id="btnCancel1" class="px-4 py-2 bg-gray-100 rounded hover:bg-gray-200">
              Batalkan
            </button>
            <button id="btnConfirm" class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">
              Ya, Logout
            </button>
          </div>
        </div>
      </div>

      <!-- l Tab -->
      <div class="flex space-x-2 mb-4">
        <button onclick="showTable('bukuTanah')" id="btnBukuTanah" class="px-4 py-2 bg-white text-gray-800 hover:bg-[#022B3A] hover:text-white cursor-pointer rounded-xl shadow font-semibold">Buku Tanah</button>
        <button onclick="showTable('suratUkur')" id="btnSuratUkur" class="px-4 py-2 bg-white text-gray-800 hover:bg-[#022B3A] hover:text-white cursor-pointer rounded-xl shadow font-semibold">Surat Ukur</button>
      </div>

      <!-- Table buku tanah -->
      <div id="bukuTanahTable" class="overflow-x-auto">
          <table class="min-w-full border rounded-xl overflow-hidden">
            <thead class="bg-white text-gray-800">
              <tr class="border">
                <th class="px-4 py-2 text-left">No</th>
                <th class="px-4 py-2 text-left">Nama Peminjam</th>
                <th class="px-4 py-2 text-left">Seksi</th>
                <th class="px-4 py-2 text-left">Jenis Hak</th>
                <th class="px-4 py-2 text-left">Nomor Hak</th>
                <th class="px-4 py-2 text-left">Kecamatan</th>
                <th class="px-4 py-2 text-left">Kelurahan</th>
                <th class="px-4 py-2 text-left">Tgl Pinjam</th>
                <th class="px-4 py-2 text-left">Durasi</th>
                <th class="px-4 py-2 text-left">info</th>
                <th class="px-4 py-2 text-left">Proses</th>
                <th class="px-4 py-2 text-left"></th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <script>
                const dataBukuTanah = [
                  ["Ucok", 1, "HGB", 121, "Medan Sunggal", "Binjai", "12/03/2025", "3 Hari", "Data tidak lengkap", "", ""],
                  ["Ani", 2, "HM", 212, "Medan Baru", "Suka Maju", "10/03/2025", "2 Hari", "Siap diambil", "", ""],
                  ["Budi", 3, "HW", 111, "Medan Tembung", "Sari Rejo", "08/03/2025", "4 Hari","Sedang diproses", "", ""],
                  ["Citra", 4, "HGB", 433, "Medan Denai", "Teladan", "07/03/2025", "1 Hari", "Akan dikonfirmasi", "", ""],
                  ["Doni", 5, "HM", 500, "Medan Timur", "Pahlawan", "05/03/2025", "3 Hari", "Berkas tidak sah", "", ""],
                  ["Eka", "Tu", "HW", 777, "Medan Helvetia", "Padang Bulan", "04/03/2025", "2 Hari", "Masih diverifikasi", "", ""],
                ];

                function renderRow(data, index) {
                  const statusClass = {
                    "Ditolak": "bg-red-100 text-red-700",
                    "Diterima": "bg-green-100 text-green-700",
                    "Menunggu": "bg-yellow-100 text-yellow-700"
                  }[data[8]];

                  return `
                    <tr>
                      <td class="px-4 py-2">${index + 1}</td>
                      <td class="px-4 py-2">${data[0]}</td>
                      <td class="px-4 py-2">${data[1]}</td>
                      <td class="px-4 py-2">${data[2]}</td>
                      <td class="px-4 py-2">${data[3]}</td>
                      <td class="px-4 py-2">${data[4]}</td>
                      <td class="px-4 py-2">${data[5]}</td>
                      <td class="px-4 py-2">${data[6]}</td>
                      <td class="px-4 py-2">${data[7]}</td>
                      <td class="px-4 py-2">
                        <button onclick="alert('${data[8]}')" class="text-lg font-bold">!</button>                        
                      </td>
                      <td class="px-4 py-4 flex gap-2 items-center">${data[9]}
                        <span class="cursor-pointer bg-green-200 text-green-600 rounded-full w-7 h-7 hover:bg-green-100">
                          <ion-icon class="text-xl mt-1 mx-auto pl-1" name="checkmark"></ion-icon>
                        </span>
                        <span class="bg-red-200 text-red-600 rounded-full w-7 h-7 hover:bg-red-100">
                            <button onclick="document.getElementById('modalTolak').classList.remove('hidden')" class="bg-red-200 text-red-600 rounded-full w-7 h-7 hover:bg-red-100">
                              <ion-icon class="text-xl mt-1 mx-auto" name="close"></ion-icon>
                            </button>
                        </span>
                      </td>
                      <td class="px-4 py-2">${data[10]}
                        <button onclick="showAlert()">
                          <span class="hover:bg-teal-950 hover:text-white pt-1 px-0.5 rounded-md cursor-pointer text-xl mx-2"><ion-icon name="trash"></ion-icon></span>
                        </button>
                      </td>

                    </tr>
                  `;
                }

                document.write(dataBukuTanah.map(renderRow).join(""));
              </script>
            </tbody>
          </table>
      </div>
      <!-- Table Surat ukur -->
      <div id="suratUkurTable" class="overflow-x-auto">
          <table class="min-w-full border rounded-xl overflow-hidden">
            <thead class="bg-white text-gray-800">
              <tr class="border">
                <th class="px-4 py-2 text-left">No</th>
                <th class="px-4 py-2 text-left">Nama Peminjam</th>
                <th class="px-4 py-2 text-left">Seksi</th>
                <th class="px-4 py-2 text-left">Jenis Hak</th>
                <th class="px-4 py-2 text-left">Nomor Hak</th>
                <th class="px-4 py-2 text-left">Kecamatan</th>
                <th class="px-4 py-2 text-left">Kelurahan</th>
                <th class="px-4 py-2 text-left">Tgl Pinjam</th>
                <th class="px-4 py-2 text-left">Durasi</th>
                <th class="px-4 py-2 text-left">info</th>
                <th class="px-4 py-2 text-left">Proses</th>
                <th class="px-4 py-2 text-left"></th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <script>
                const dataSuratUkur = [
                  ["Fina", 1, "HM", 901, "Binjai", "Kwala Begumit", "13/03/2025", "3 Hari", "Boleh diambil", "", ""],
              ["Gilang", 2, "HGB", 832, "Binjai", "Tandam Hulu", "11/03/2025", "1 Hari", "Dalam pengecekan", "", ""],
              ["Hani", 3, "HW", 412, "Binjai", "Tandam Hilir", "10/03/2025", "2 Hari", "Tidak sesuai prosedur", "", ""],
              ["Indra", 4, "HM", 744, "Binjai", "Sumber Karya", "09/03/2025", "3 Hari", "Belum diverifikasi", "", ""],
              ["Joko", 5, "HGB", 501, "Binjai", "Kwala Mencirim", "07/03/2025", "2 Hari", "Sudah dikonfirmasi", "", ""],
              ["Kiki", "Tu", "HW", 266, "Binjai", "Suka Damai", "06/03/2025", "1 Hari", "Berkas rusak", "", ""],
                ];

                function renderRow(data, index) {
                  const statusClass = {
                    "Ditolak": "bg-red-100 text-red-700",
                    "Diterima": "bg-green-100 text-green-700",
                    "Menunggu": "bg-yellow-100 text-yellow-700"
                  }[data[8]];

                  return `
                    <tr>
                      <td class="px-4 py-2">${index + 1}</td>
                      <td class="px-4 py-2">${data[0]}</td>
                      <td class="px-4 py-2">${data[1]}</td>
                      <td class="px-4 py-2">${data[2]}</td>
                      <td class="px-4 py-2">${data[3]}</td>
                      <td class="px-4 py-2">${data[4]}</td>
                      <td class="px-4 py-2">${data[5]}</td>
                      <td class="px-4 py-2">${data[6]}</td>
                      <td class="px-4 py-2">${data[7]}</td>
                      <td class="px-4 py-2">
                        <button onclick="alert('${data[8]}')" class="text-lg font-bold">!</button>                        
                      </td>
                      <td class="px-4 py-4 flex gap-2 items-center">${data[9]}
                        <span class="cursor-pointer bg-green-200 text-green-600 rounded-full w-7 h-7 hover:bg-green-100">
                          <ion-icon class="text-xl mt-1 mx-auto pl-1" name="checkmark"></ion-icon>
                        </span>
                        <span class="bg-red-200 text-red-600 rounded-full w-7 h-7 hover:bg-red-100">
                            <button onclick="document.getElementById('modalTolak').classList.remove('hidden')" class="bg-red-200 text-red-600 rounded-full w-7 h-7 hover:bg-red-100">
                              <ion-icon class="text-xl mt-1 mx-auto" name="close"></ion-icon>
                            </button>
                        </span>
                      </td>
                      <td class="px-4 py-2">${data[10]}
                        <button onclick="showAlert()">
                          <span class="hover:bg-teal-950 hover:text-white pt-1 px-0.5 rounded-md cursor-pointer text-xl mx-2"><ion-icon name="trash"></ion-icon></span>
                        </button>
                      </td>

                    </tr>
                  `;
                }

                document.write(dataSuratUkur.map(renderRow).join(""));
              </script>
            </tbody>
          </table>
      </div>

      <!-- Pagination -->
      <div class="flex justify-center items-center gap-2 mt-6">
        <button class="border rounded-full w-8 h-8 flex items-center justify-center">1</button>
        <button class="border rounded-full w-8 h-8 flex items-center justify-center">2</button>
        <button class="border rounded-full w-8 h-8 flex items-center justify-center">3</button>
        <span>...</span>
      </div>
    </main>
  </div>

  <!-- Modal -->
  <div id="modalTolak" class="fixed inset-0 flex items-center justify-center bg-black/20 z-50 backdrop-blur-sm hidden">
    <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md relative">
      <button onclick="document.getElementById('modalTolak').classList.add('hidden')" class="absolute top-2 right-2 text-gray-500 hover:text-black">
        <ion-icon name="close"></ion-icon>
      </button>
      <h3 class="text-lg font-semibold mb-4">Berikan alasan Penolakan :</h3>
      <textarea class="w-full h-32 p-3 border rounded-md mb-4 resize-none" placeholder="Tulis alasan..."></textarea>
      <div class="flex justify-end gap-3">
        <button onclick="document.getElementById('modalTolak').classList.add('hidden')" class="border px-4 py-2 rounded-md hover:bg-gray-100 transition">Batalkan</button>
        <button class="bg-cyan-900 text-white px-4 py-2 rounded-md hover:bg-cyan-800 transition">Simpan</button>
      </div>
    </div>
  </div>

  

  <script>
    // Modal Alert logout
      const alertBox1 = document.getElementById("alertLogout");
      const btnCancel1 = document.getElementById("btnCancel1");

      function showAlertLogout() {
        alertBox1.classList.remove("hidden");
      }

      btnCancel1.addEventListener("click", () => {
        alertBox1.classList.add("hidden");
      });

      btnConfirm.addEventListener("click", () => {
      alertBox1.classList.add("hidden");
      // Arahkan ke halaman login
      window.location.href = "login.html"; 
      });


    // tabel buku tanah dan surat ukur
      function showTable(tableName) {
          document.getElementById('bukuTanahTable').classList.add('hidden');
          document.getElementById('suratUkurTable').classList.add('hidden');
          document.getElementById(`${tableName}Table`).classList.remove('hidden');

          document.getElementById('btnBukuTanah').classList.remove('bg-[#022B3A]');
          document.getElementById('btnBukuTanah').classList.remove('text-[#ffffff]');
          document.getElementById('btnSuratUkur').classList.remove('bg-[#022B3A]');
          document.getElementById('btnSuratUkur').classList.remove('text-[#ffffff]');
          document.getElementById('btnBukuTanah').disabled = false;
          document.getElementById('btnSuratUkur').disabled = false;

          document.getElementById(`btn${tableName.charAt(0).toUpperCase() + tableName.slice(1)}`).classList.add('bg-[#022B3A]');
          document.getElementById(`btn${tableName.charAt(0).toUpperCase() + tableName.slice(1)}`).classList.add('text-[#ffffff]');
          document.getElementById(`btn${tableName.charAt(0).toUpperCase() + tableName.slice(1)}`).disabled = true;
        }

      showTable('bukuTanah');

    function dropDown() {
        document.querySelector("#submenu").classList.toggle("hidden");
        document.querySelector("#arrow").classList.toggle("rotate-180");
      }

      function dropDown1() {
        document.querySelector("#submenu1").classList.toggle("hidden");
        document.querySelector("#arrow1").classList.toggle("rotate-180");
      }

      function toggleDropdown(id) {
        const el = document.getElementById(id);
        el.classList.toggle("hidden");
      }

      // Modal Alert Hapus
      const alertBox = document.getElementById("alertDelete");
      const btnCancel = document.getElementById("btnCancel");

      function showAlert() {
        alertBox.classList.remove("hidden");
      }

      btnCancel.addEventListener("click", () => {
        alertBox.classList.add("hidden");
      });

      function confirmDelete() {
        // Aksi penghapusan
        alert("Data berhasil dihapus.");
        alertBox.classList.add("hidden");
      }
  </script>
</body>
</html>